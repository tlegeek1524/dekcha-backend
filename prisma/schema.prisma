generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id          Int      @id @default(autoincrement())
  userid      String   @unique
  name        String
  pictureurl  String?
  uid         String   @unique
  role        String   @default("user")
  userpoint   Float      @default(0)
  isactive    Boolean  @default(true)
  createdat   DateTime @default(now())
  updatedat   DateTime @updatedAt
  phonenumber String?
}

model menu {
  id       Int      @id @default(autoincrement())
  idmenu   String   @unique
  name     String
  point    Int
  category String
  date     DateTime
  exp      DateTime
  status   Int      @default(1)
  image    String?
}

model Coupon {
  id         Int      @id @default(autoincrement())
  idcoupon   String   @unique
  idmenu     String
  menuname   String
  couponunit Int
  point      Int
  date       DateTime
  exp        DateTime
  status     Boolean  @default(true)
  name_cop   String
}

model userCoupon {
  id         Int      @id @default(autoincrement())
  uid        String
  idcoupon   String   @unique
  idmenu     String
  menuname   String
  unit       Int
  date       DateTime
  exp        DateTime
  status     Boolean  @default(true)
  image_menu String?
  name_cop   String
  point_cop  Int
  code_cop   String?  @unique
}

model Empuser {
  id            Int      @id @default(autoincrement())
  empid         String   @unique
  firstname_emp String
  lastname_emp  String?
  name_emp      String
  pincode_emp   String?
  password_emp  String?
  role          String   @default("employee")
  isactive      Boolean  @default(true)
  status        Boolean  @default(true)
  createdat     DateTime @default(now())
  updatedat     DateTime @updatedAt
  email_emp     String?
  phone_emp     String?
}

model PointLog {
  id           Int      @id @default(autoincrement())
  empid        String
  uid          String
  point        Float
  description  String
  createdat    DateTime @default(now())
  addby        String
  data_input   String?
  name_emp     String
  point_status Boolean  @default(true)
}

model CouponHistory {
  id          Int      @id @default(autoincrement())
  empid       String
  uid         String
  idcoupon    String
  menuname    String
  unit        Int
  description String
  createdat   DateTime @default(now())
  status_Cop  Boolean  @default(true)
}

model Mailbox {
  id        Int      @id @default(autoincrement())
  uid       String
  idcoupon  String
  subject   String
  message   String
  isread    Boolean  @default(false)
  createdat DateTime @default(now())
  exp       DateTime
  status    Boolean  @default(true)
  updatedat DateTime
}

model Poll_Point {
  id          Int      @id @default(autoincrement())
  empid       String
  uid         String
  point       Int
  description String
  createdat   DateTime @default(now())
}

model receipt_coupon {
  id             Int      @id @default(autoincrement())
  menu_name      String   // uc.menuname
  point_coupon   Int      // uc.point_cop
  uid            String   // uc.uid
  code_coupon    String?  // uc.code_cop
  create_date    DateTime // ch.createdat
  employee_id    String   // ch.empid
  name_emp       String   // ep.name_emp
  unit           Int      // ch.unit
  coupon_status  String   // 'ใช้งานแล้ว' หรือ 'ยังไม่ได้ใช้งาน'
}